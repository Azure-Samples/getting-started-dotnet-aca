@page "/counter"
@rendermode InteractiveServer

@inject ILogger<Counter> Logger

<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<p role="status">Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

@code {
    private int currentCount = 0;

    private void IncrementCount()
    {
        try
        {
            currentCount++;
            if (currentCount % 5 == 0)
            {
            throw new Exception("An error occurred at every 5th click.");
            }
        }
        catch (Exception ex)
        {
            // Log the exception using Console
            Console.WriteLine($"Exception caught: {ex.Message}");
            // Log the exception using ILogger
            Logger.LogError(ex, "Exception caught during IncrementCount");
        }
    }
}
